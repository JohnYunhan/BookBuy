<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/lib/css/bootstrap.min.css">
  <link href="lib/flex.css" rel="stylesheet">
  <link href="css/base.css" rel="stylesheet">
  <link href="css/shoppingcart.css" rel="stylesheet">
  <title>购物车</title>
</head>

<body>
  <div id="cart">
    <header>
      <div class="header" flex="main:justify">
        <div v-if="UsrName == ''" class="head-left">
          欢迎光临<b>BookBuy</b>图书网，<a href="javascript:;" @click="showLoginBox">[请登录]</a>
          <a href="javascript:;">[免费注册]</a>
        </div>
        <div v-else class="head_left">
          <span>Hi, </span>
          <a style="color: #f86d0d" href="javascript:;">{{UsrName}}</a>&nbsp; 欢迎光临BookBuy图书网 &nbsp;
          <a href="javascript:;" @click="loginOut"> [ 退出 ]</a>
        </div>
        <div class="head_right">
          <a href="javascript:;"><span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span> 购物车&nbsp;<b>{{carNum}}</b></a>
          <span>|</span>
          <a href="javascript:;"><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span> 我的订单</a>
          <span>|</span>
          <a href="javascript:;"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> 我的账户</a>
          <span>|</span>
          <a href="javascript:;"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> 留言</a>
        </div>
      </div>
    </header>
    <div class="wraps">
      <div class="wrap">
        <div class="seach-bar" flex="main:justify">
          <div class="logo">
            <img @click="toHome" src="img/logo.png" alt="BookBuy图书网">
            <span>购物车</span>
          </div>
          <div style="width: 385px;" flex="cross:center" class="input-group">
            <input @keyup.enter="search" v-model="searchKey" style="display: inline;width: 340px;" type="text" class="form-control search" placeholder="图书名称">
            <span style="width: 45px" class="input-group-btn">
        <button @click="search" class="btn btn-default btn-search" type="button"><span style="font-size: 16px;" class="glyphicon glyphicon-search" aria-hidden="true"></span></button>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div id="cart-item">
      <div class="cart-title">
        <div class="all-check">
          <input type="checkbox" id="all-check" />
          <label for="all-check">全选</label>
        </div>
        <div class="book-name">图书信息</div>
        <div class="book-price">单价(元)</div>
        <div class="book-num">数量</div>
        <div class="book-total">金额(元)</div>
        <div class="book-manage">操作</div>
      </div>
      <div :class="{'cart-item':true,'checked':isChecked}" v-for="(item,index) in cartItem">
        <div class="item-check">
          <input type="checkbox" :id="'check'+index" value="index" v-model="checkedBook" />
          <label :for="'check'+index">
        </div>
        <div class="book-name">
          <img src="" :alt="item.Name">
          <span>
          <a href="javascript:;">{{item.Name}}</a>
          <a href="javascript:;">{{item.Author}} 著</a>
          </span>
        </div>
        <div class="book-price">
          <del>￥{{item.ListPrice}}</del>
          <b>￥{{item.SellPrice}}</b>
        </div>
        <div class="book-num">
          <a href="javascript:;" class="minus">-</a>
          <input type="text" v-model.number="selectNum[index]" :value="item.Count" class="num">
          <a href="javascript:;" class="add">+</a>
        </div>
        <div class="book-total">
          <span>￥{{item.SellPrice*selectNum[index]}}</span>
        </div>
        <div class="book-manage"><a href="javascript:;" @click="delCart(index)">删除</a></div>
      </div>
      <div class="cart-ending">
        <div class="all-check">
          <input type="checkbox" id="check-all" />
          <label for="check-all">全选</label>
        </div>
        <div class="cart-del"><a href="javascript:;">删除</a></div>
        <div class="cart-selected">已选商品<b></b>件</div>
        <div class="cart-total-price">
          <span>合计(不含运费): <b>￥</b></span>
        </div>
        <div class="cart-settle-btn">
          <button @click="settleCart">结算</button>
        </div>
      </div>
    </div>
  </div>
  <script src="/lib/jquery-1.10.2.min.js"></script>
  <script src="/lib/js/bootstrap.min.js"></script>
  <script src="lib/layer/layer.js"></script>
  <script src="//cdn.bootcss.com/vue/2.1.10/vue.min.js"></script>
  <script src="//cdn.bootcss.com/fetch/2.0.2/fetch.min.js"></script>
  <script src="js/shoppingcart.js"></script>
</body>

</html>
